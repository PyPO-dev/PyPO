<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PyPO User Manual: Instructions For Contributions &amp; Development</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PyPO User Manual
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('contribguide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Instructions For Contributions &amp; Development </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page contains an overview of instructions for people intending to develop <code>PyPO</code>. These include the contributor guidelines, but also guidelines on how to document contributions and how to test <code>PyPO</code>.</p>
<h1><a class="anchor" id="contrib"></a>
Contributor Guidelines</h1>
<p>People wishing to contribute are more than welcome to do so. Contributions can be made by opening a pull request to the main repository from your own fork of <code>PyPO</code>. This is the so-called <a href="https://blog.scottlowe.org/2015/01/27/using-fork-branch-git-workflow/">fork-and-branch workflow</a>. Create a fork from the <a href="https://github.com/PyPO-dev/PyPO">PyPO repository</a> to your own profile, and clone: </p><div class="fragment"><div class="line">git clone &lt;URL-to-your-PyPO-fork&gt;</div>
</div><!-- fragment --><p>Set the original repo as upstream: </p><div class="fragment"><div class="line">git remote add upstream https:<span class="comment">//github.com/PyPO-dev/PyPO</span></div>
</div><!-- fragment --><p>It is good practice to make a feature branch in which you can store your work: </p><div class="fragment"><div class="line">git checkout -b &lt;<span class="keyword">new</span>-branch-name&gt;</div>
</div><!-- fragment --><p>Then, when it is time to push the changes to the original repo, run: </p><div class="fragment"><div class="line">git push origin &lt;<span class="keyword">new</span>-branch-name&gt;</div>
</div><!-- fragment --><p>This should prompt Github to ask you to open a pull request to the orignial repository. Open the pull request, and the contribution will be reviewed. If it is accepted, the changes will be merged into the original main branch. After the merge, do not forget to synchronise your remote/local copy: </p><div class="fragment"><div class="line">git checkout main</div>
<div class="line">git pull upstream main</div>
<div class="line">git push origin main</div>
</div><!-- fragment --><p>Then, the feature branch can be deleted: </p><div class="fragment"><div class="line">git branch -d &lt;<span class="keyword">new</span>-branch-name&gt;</div>
<div class="line">git push --<span class="keyword">delete</span> origin &lt;<span class="keyword">new</span>-branch-name&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="issues"></a>
Issues, Feauture Requests &amp; Bugs</h1>
<p>Issues, feature requests and bugs can be reported in the <code>PyPO</code> <a href="https://github.com/arend95/PyPO/issues">issue tracker</a>.</p>
<h1><a class="anchor" id="devinstructions"></a>
Instructions For Developers</h1>
<p>As mentioned in the contributor guidelines, contributions to <code>PyPO</code> are more than welcome. This section contains information on utilities put in place to make it easier to develop, as well as certain rules and practices for making <code>PyPO</code> easy to maintain.</p>
<p>It is assumed that you have forked the PyPO repository to a root directory, which we will call PyPO-dev for now.</p>
<h2><a class="anchor" id="devinstall_page"></a>
Dev Install</h2>
<p>Installing <code>PyPO</code> for development is very similar to general installation: Navigate to the cloned (and forked) PyPO repository and run: </p><div class="fragment"><div class="line">pip install -e .</div>
</div><!-- fragment --><p>The "-e" flag tells pip to install <code>PyPO</code> in the actual "src/PyPO/" directory of the <code>PyPO</code> repository. This means that any changes to the Python source code are immediately reflected in the package imported through Python. For the C/C++/CUDA code, this is not true. These scripts need to be compiled into libraries again (which happens when the <code>pip install -e .</code> command is run) before the changes are reflected in the package.</p>
<p>PyPO can be uninstalled by running: </p><div class="fragment"><div class="line">pip uninstall PyPO-pkg </div>
</div><!-- fragment --><p>Note that this does not remove the compiled libraries in the "src/PyPO/" folder. If desired, these need to be removed manually.</p>
<h2><a class="anchor" id="gendoc"></a>
Generating Documentation</h2>
<p><code>PyPO</code> documentation is generated using Doxygen and generated from comment blocks. Because of this, there are several rules for developers regarding comments.</p>
<h3><a class="anchor" id="cppcuda_docs"></a>
C/C++ And CUDA Source</h3>
<p>The C/C++/CUDA scripts use the so-called <a href="https://en.wikipedia.org/wiki/Javadoc">Javadoc</a> style for documenting classes and methods: </p><div class="fragment"><div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment">   Here comes a short description describing in keywords what the function does</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">   Followed by a longer description, placing the function&#39;s usage in a broader perspective perhaps.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">   @param input Some input parameter of type inputObject.</span></div>
<div class="line"><span class="comment">   @return output Some output parameter of type outputObject.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">   @see inputObject</span></div>
<div class="line"><span class="comment">   @see outputObject</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line">outputObject someFunc(inputObject input) {</div>
<div class="line">    ...</div>
<div class="line">    <span class="keywordflow">return</span> output;</div>
<div class="line">}</div>
</div><!-- fragment --><p>In addition to properly documented classes and methods, each file should include a file description with an appropriate tag, so that doxygen can include the file in the <a class="el" href="pypodocs.html#fulldocs">full software documentation</a>. The file description should be given after includes/preprocessor statements, but before the first class or method is declared: </p><div class="fragment"><div class="line">&lt;includes/preprocessor statements up here...&gt;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/*! \file someFile.cpp</span></div>
<div class="line"><span class="comment">    \brief A brief description of the file.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    Here a longer description of this file should be placed.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line">&lt;rest of script down here...&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="python_docs"></a>
Python Source</h3>
<p>The Python classes and methods are documented using docstrings with a slight twist, as Doxygen's special commands are not supported using pure docstrings. The trick to making doxygens special commands work with docstrings, is placing an exclamation mark right after the first triple double quotes: </p><div class="fragment"><div class="line">def someFunc(inputObject):</div>
<div class="line">    <span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;!</span></div>
<div class="line"><span class="stringliteral">    Here comes a short description describing in keywords what the function does</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    Followed by a longer description, placing the function&#39;s usage in a broader perspective perhaps.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    @param input Some input parameter of type inputObject.</span></div>
<div class="line"><span class="stringliteral">    @return output Some output parameter of type outputObject.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    @see inputObject</span></div>
<div class="line"><span class="stringliteral">    @see outputObject</span></div>
<div class="line"><span class="stringliteral">    &quot;</span><span class="stringliteral">&quot;&quot;</span></div>
<div class="line">    </div>
<div class="line">    ...</div>
<div class="line">    return output</div>
</div><!-- fragment --><p>The exclamation mark tells doxygen to parse the docstring as a doxygen documentation block. This allows doxygen to generate documentation, while also allowing the built-in <code>help()</code> function of Python to recognise the docstring, albeit with a lone "!" preoending the output of <code>help()</code>.</p>
<p>We realise that this is slightly unorthodox, but in this way we can generate documentation using doxygen whilst still using a docstring style that utilises the <code>__docs__</code> method of the function being documented.</p>
<p>Because docstrings cannot be used as file descriptions, we use a different style to describe files. Just as for C/C++/CUDA, file descriptions go after import statements and before the classes and/or methods in the file:</p>
<div class="fragment"><div class="line">&lt;<span class="keyword">import</span> statements up here...&gt;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">##</span></div>
<div class="line"><span class="preprocessor"># @file</span></div>
<div class="line"><span class="preprocessor"># Here comes a brief description of the file.</span></div>
<div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor"># If needed, provide a detailed description here.</span></div>
<div class="line"> </div>
<div class="line">&lt;rest of script down here...&gt;</div>
</div><!-- fragment --><p>Again, adding these file descriptions is important, otherwise the file will not be parsed and added to the <a class="el" href="pypodocs.html#fulldocs">full software documentation</a>.</p>
<p>There is one notable exception, however. The "Templates.py" file containing templates for all used dictionary inputs is documented in the following style:</p>
<div class="fragment"><div class="line"><span class="preprocessor">##</span></div>
<div class="line"><span class="preprocessor"># Description of input dictionary</span></div>
<div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor"># @ingroup public_api_templates</span></div>
<div class="line">dict = {</div>
<div class="line">    <span class="stringliteral">&quot;field1&quot;</span>    : <span class="stringliteral">&quot;Description of field 1&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;field2&quot;</span>    : <span class="stringliteral">&quot;Description of field 2&quot;</span>,</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p>It is important to add the <code>@ingroup public_api_templates</code> command to the documentation block, as this puts the documentation on the right page in the final HTML output. Also, if you add a new input dictionary type, please document the meaning of each field in the demonstrated way.</p>
<h3><a class="anchor" id="extra_reading"></a>
Extra Reading</h3>
<p>For an overview of the mentioned (and other) comment styles for doxygen, see <a href="https://www.doxygen.nl/manual/docblocks.html">this link</a>.</p>
<h3><a class="anchor" id="generating_docs"></a>
Generating Documentation</h3>
<p>The documentation can be generated using the <code>GenerateDocs.py</code> script: </p><div class="fragment"><div class="line">python3 GenerateDocs.py</div>
</div><!-- fragment --><p>This will generate the full <code>PyPO</code> user manual and place it in the "docs/" directory. Note that this requires a full doxygen install. Please see their <a href="https://www.doxygen.nl/manual/install.html">installation page</a> for installation instructions.</p>
<h2><a class="anchor" id="runtests"></a>
Running The Automated Tests</h2>
<p><code>PyPO</code> contains an automated testing suite that can be run quite easily from the command line using nose2. Note that, in order to run the unit tests, <code>PyPO</code> should be installed in <a class="el" href="contribguide.html#devinstall_page">development mode</a>.</p>
<p>Navigate to the <code>PyPO</code> root directory and run: </p><div class="fragment"><div class="line">nose2</div>
</div><!-- fragment --><p>This command will execute the entire testing suite.</p>
<p>Note that nose2 needs to be installed for this: </p><div class="fragment"><div class="line">pip install nose2</div>
</div><!-- fragment --><p>Apart from running the test suite, it is also possible to generate a coverage report afterwards. For this, coverage needs to be installed in addition to nose2: </p><div class="fragment"><div class="line">pip install coverage</div>
</div><!-- fragment --><p>The coverage report can then be generated by running: </p><div class="fragment"><div class="line">nose2 --with-coverage</div>
</div><!-- fragment --><p>and the coverage report will be displayed in the terminal after running the tests. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
